# Generated by Okty.io
version: "3.6"
services:
    php-fpm:
        build: docker/php
        container_name: php
        volumes:
            - "./:/usr/share/nginx/html"
        restart: always

    nginx:
        build: docker/nginx
        container_name: nginx
        ports:
            - "80:80"
        volumes:
            - "./:/usr/share/nginx/html"
        restart: always

    phpmyadmin:
        image: phpmyadmin/phpmyadmin
        container_name: phpmyadmin
        environment:
            - PMA_ARBITRARY=1
            - PMA_HOST=database
            - PMA_USER=root
            - PMA_PASSWORD=root
        ports:
            - '8080:80'
        depends_on:
            - database
        volumes:
            - ./docker/phpmyadmin/phpmyadmin-misc.ini:/usr/local/etc/php/conf.d/phpmyadmin-misc.ini
        restart: always

    database:
        image: mariadb:10.3
        container_name: database
        volumes:
            - ./docker/sql:/var/lib/mysql
        ports:
            - "3306:3306"
        environment:
            - MYSQL_DATABASE=symfonyweb
            - MYSQL_ROOT_PASSWORD=root
            - TZ=Europe/Paris
        restart: always